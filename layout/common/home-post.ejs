<div class="home-container">
    <!-- 检查当前页面是否为首页 -->
    <% if (is_home()) { %>
        <ul class="article-post-list">
            <% page.posts.forEach(post => { %>
                <li class="article-post-item">
                    <div class="article-post-title">
                        <h3>
                            <a href="<%- url_for(post.path) %>"><%= post.title %></a>
                        </h3>
                    </div>

                    <div class="article-post-content">
                        <!-- truncate() 移除超过 length 长度的字符串。length 的默认值是 30。 -->
                        <%- truncate(strip_html(post.content), {length: 80}) %>
                    </div>

                    <!-- date -->
                    <div class="article-meta">
                        <span class="article-date article-item">
                            <i class="fa fa-calendar-o"></i>
                            <%= date(post.date, 'YYYY-MM-DD HH:MM:SS') %>
                        </span>

                        <!-- categories -->
                        <% if (post.categories.length) { %>
                            <span class="article-categories article-item">
                            <i class="fa fa-bookmark"></i>
                            <ul>
                                <% post.categories.forEach((category, i) => { %>
                                    <li>
                                        <%= i === 0 ? '' : '| ' %><a href="<%- url_for(category.path) %>"
                                                                     rel="tag"><%= category.name %></a>
                                    </li>
                                <% }); %>
                            </ul>
                        </span>
                        <% } %>

                        <!-- tags -->
                        <% if (post.tags.length) { %>
                            <span class="article-tags article-item">
                            <i class="fa fa-tags"></i>
                            <ul>
                                <% post.tags.forEach((tag, i) => { %>
                                    <li>
                                      <%= i === 0 ? '' : '| ' %><a href="<%- url_for(tag.path) %>"
                                                                   rel="tag"><%= tag.name %></a>
                                    </li>
                                <% }); %>
                            </ul>
                        </span>
                        <% } %>
                    </div>
                </li>
            <% }) %>
        </ul>
    <% } %>

    <!-- 分页器 -->
    <%- partial('paginator') %>

</div>